import{d as c,k as g,e as a,b as n,a as e,t as v,f as u,i as h,u as x,F as y,o as r}from"./app-703427ef.js";import{u as w,d as p}from"./index-21abbddf.js";import{_ as I}from"./body-ee08d14f.js";import{F as S}from"./Footer-92427b74.js";import"./_plugin-vue_export-helper-c27b6911.js";const k={class:"container bg-gray-100 mx-auto px-4 py-8 w-[50em]"},F={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4"},P=e("h2",{class:"text-2xl mb-4"},"Update Profile Picture",-1),U=["onSubmit"],C=e("label",{for:"profile_picture",class:"block mb-2"},"Choose an image:",-1),N=["disabled"],B={key:0,class:"mt-6"},D=e("h3",{class:"text-lg mb-2"},"Image Preview:",-1),R=["src"],E={__name:"Upload",props:{profile_picture:String,id:Number},setup(d){const i=d,o=c("");w();const t=c(null),m=g(()=>t.value?URL.createObjectURL(t.value):null);function _(s){t.value=s.target.files[0]}async function f(){if(!t.value)return;const s=new FormData;s.append("profile_picture",t.value),await p.Inertia.post(`/profiles/${i.id}/upload`,s,{preserveScroll:!0,onSuccess:l=>{o.value=l.props.success}})}async function b(){await p.Inertia.put(`/profiles/${i.id}/remove-image`,{},{onSuccess:s=>{o.value=s.props.success}})}return(s,l)=>(r(),a(y,null,[n(I),e("div",k,[o.value?(r(),a("div",F,v(o.value),1)):u("",!0),e("div",null,[P,e("form",{onSubmit:h(f,["prevent"]),class:"mb-4"},[C,e("input",{type:"file",id:"profile_picture",ref:"profile_picture",onChange:_,class:"mb-4"},null,544),e("button",{class:"upload bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",type:"submit",disabled:!t.value},"Upload Image",8,N)],40,U),e("button",{class:"remove bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",onClick:b},"Remove Image"),t.value?(r(),a("div",B,[D,e("img",{src:x(m),alt:"Selected image preview",class:"w-auto h-48"},null,8,R)])):u("",!0)])]),n(S)],64))}};export{E as default};

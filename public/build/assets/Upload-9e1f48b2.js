import{d as c,k as f,e as a,b as g,a as e,t as v,f as n,i as h,u as x,F as y,o as r}from"./app-ee76bfaf.js";import{u as w,d as u}from"./index-db7ea5e0.js";import{_ as I}from"./body-c9ebbe2f.js";const S={class:"container bg-gray-100 mx-auto px-4 py-8 w-[50em]"},k={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4"},P=e("h2",{class:"text-2xl mb-4"},"Update Profile Picture",-1),U=["onSubmit"],C=e("label",{for:"profile_picture",class:"block mb-2"},"Choose an image:",-1),N=["disabled"],B={key:0,class:"mt-6"},D=e("h3",{class:"text-lg mb-2"},"Image Preview:",-1),F=["src"],L={__name:"Upload",props:{profile_picture:String,id:Number},setup(d){const l=d,o=c("");w();const t=c(null),p=f(()=>t.value?URL.createObjectURL(t.value):null);function m(s){t.value=s.target.files[0]}async function _(){if(!t.value)return;const s=new FormData;s.append("profile_picture",t.value),await u.Inertia.post(`/profiles/${l.id}/upload`,s,{preserveScroll:!0,onSuccess:i=>{o.value=i.props.success}})}async function b(){await u.Inertia.put(`/profiles/${l.id}/remove-image`,{},{onSuccess:s=>{o.value=s.props.success}})}return(s,i)=>(r(),a(y,null,[g(I),e("div",S,[o.value?(r(),a("div",k,v(o.value),1)):n("",!0),e("div",null,[P,e("form",{onSubmit:h(_,["prevent"]),class:"mb-4"},[C,e("input",{type:"file",id:"profile_picture",ref:"profile_picture",onChange:m,class:"mb-4"},null,544),e("button",{class:"upload bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",type:"submit",disabled:!t.value},"Upload Image",8,N)],40,U),e("button",{class:"remove bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",onClick:b},"Remove Image"),t.value?(r(),a("div",B,[D,e("img",{src:x(p),alt:"Selected image preview",class:"w-auto h-48"},null,8,F)])):n("",!0)])])],64))}};export{L as default};
